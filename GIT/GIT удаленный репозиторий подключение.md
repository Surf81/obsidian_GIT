# GIT работа с удаленным репозиторием

***
Команды: `remote add` #HTTPS #SSH `remote remove`, `remote rename`, `remote show`, `git clone`
***

[Подключение удаленного репозитория `git remote add`](#git%20remote%20add)
[Отключение удаленного репозитория `git remote remove`](#git%20remote%20remove)
[Изменение имени удаленного репозитория `git remote rename`](#git%20remote%20rename)
[Список удаленных репозиториев `git remote show`](#git%20remote%20show)
[Клонирование удаленного репозитория `git clone`](#git%20clone)

## `git remote add`
***
Подключение удаленного репозитория

| | |
|-|-|
|git remote add <имя удаленного репозитория> <ссылка на репозиторий>|Подключает удаленный репозиторий к вашему под переданным именем|

>**Имя удаленного репозитория** в команде `git remote add` вы можете придумать сами. Впоследствии, при работе с этим удаленным репозиторием, вы будете обращаться к нему по придуманному имени. 
>Принято называть удаленный репозиторий `origin`, но строго говоря, никаких ограничений здесь нет

>**Со ссылкой** на удаленный репозиторий тоже все просто. Мы работаем с `GitHub`, поэтому эту ссылку можно взять, нажав на большую зеленую кнопку **Code** на странице репозитория на GitHub

>Ссылки бывают типа `HTTPS` и `SSH`

### Настройка подключения по `HTTPS`

>Доступ по паролю более не доступен. Вместо пароля нужно использовать персональный **токен**.

Действия в `GitHub`:
1. Settings / Developer settings / Personal access tokens / Generate new token (сгенерировать новый токен)  
2. Придумайте имя для своего токена. Имя должно описывать, зачем токен был создан.  
3. Дайте токену разрешения. Пользователь токена сможет выполнять с удаленным репозиторием только то, что вы указали в этих разрешениях. Чтобы дать токену доступ к управлению удаленным репозиторием из командной строки, выберите **repo**.  
4. Нажмите **Generate token**

>Скопируйте токен. В целях безопасности, как только вы покинете страницу создания токена, вы больше не сможете просмотреть этот токен.

>При первой загрузке/скачивании изменений из удаленного репозитория, вас попросят ввести имя пользователя на GitHub и пароль. **Нужно будет ввести свое имя пользователя, а вместо пароля вставить этот токен**


### Настройка подключения по `SSH`

Чтобы настроить подключение по **SSH**, вам нужно на своем компьютере сгенерировать два **SSH-ключа**: публичный (**public**) и секретный (**private**)

Публичный ключ необходимо прописать в `GitHub` , а секретный добавить в SSH-агент Благодаря **SSH-агенту**, вам не потребуется при каждом подключении к удаленному серверу вводить пароль от файла с приватным ключом

##### Создание пары ключей SSH:

```bash
ssh-keygen -t rsa 4096 -C "<ваша-почта>@example.com"  # генерация ключей (старый вариант)
ssh-keygen -t ed25519 -C "your_email@example.com"  # более современный вариант

eval 'ssh-agent -s'  # запуск SSH-агента (способ для windows)
eval 'ssh-agent bash'  # альтернативный способ запуска для Linux
ssh-add <путь до приватного ключа>  # если путь не менял ssh-add ~/.ssh/id_ed25519

ssh-add -l  # проверить загруженные в агент ключи
ssh-add -d <путь до приватного ключа>  # удалить ключ
ssh-add -D  # удалить все ключи

ps axu | grep ssh-agent  # посмотреть список запущенных агентов
pidof ssh-agent  # узнать pid процесса

eval "$(ssh-agent -k)"  # остановить SSH-агент
kill <pid>  # убить процесс
killall ssh-agent  # выключить все запущенные процессы ssh-агента
```

##### Добавление публичного ключа в `GitHub`

>Публичный ключ имеет расширение `.pub`

1. GitHub - Settings / SSH and GPG keys / **New SSH key** (новый **ssh-ключ**)
2. В поле **Title** (заголовок) введите содержательное название ключа
3. Содержимое файла <ключ>.pub вставьте в раздел **Key**


## `git remote remove`
***
Отключение удаленного репозитория от локального

| | |
|-|-|
|git remote remove <имя удаленного  репозитория>|Отключает переданный удаленный репозиторий от вашего|

>данная команда не удаляет удаленный репозиторий с сервера, она удаляет только подключение вашего репозитория к удаленному


## `git remote rename`
***
Изменение имени удаленного репозитория

| | |
|-|-|
|git remote rename <старое имя удаленного репозитория> <новое имя удаленного репозитория>|Меняет имя переданного удаленного репозитория|


## `git remote show`
***
Просмотреть список всех подключенных удаленных репозиториев

| | |
|-|-|
|git remote show \[имя удаленного репозитория\]|Выводит список всех подключенных удаленных репозиториев. Если передано имя репозитория, то выводит информацию об этом репозитории.|

## `git clone`
***

| | |
|-|-|
|git clone <ссылка на удаленный репозиторий>|Клонирует переданный репозиторий на ваш компьютер|

>клонирование по https возможно вообще всегда, а по ssh – нет. Чтобы клонировать репозитории по ssh, нужно, чтобы владелец удаленного репозитория на GitHub добавил к себе публичный ssh-ключ из пары, в то время, как секретный ssh-ключ от той же пары хранится у вас на компьютере, с которого вы выполняете **git clone**. Таким образом, если вы настроили ssh в своем аккаунте, то вы сможете беспрепятственно клонировать свои репозитории и по https, и по ssh. Но если вы пытаетесь клонировать чужой репозиторий по ssh, то скорее всего получите ошибку доступа

>Работать по **https** проще и быстрее, зато он считается менее защищенным, чем **ssh**

>Вместо **git clone** можно было бы создать пустой локальный **git-репозиторий**, выполнив команду **git init**. Затем подключить наш удаленный репозиторий командой **git remote add origin https://github.com/smartiqaorg/geometric_lib.git**. После чего вручную загрузить изменения с удаленного репозитория командой **git pull**