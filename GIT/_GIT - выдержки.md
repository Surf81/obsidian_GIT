[почитать про GIT](https://smartiqa.ru/courses/git)
[почитать про работу с GitHub](https://smartiqa.ru/courses/git/lesson-6)

### Настройка GIT

```shell
# настройка пользователя
git config --global user.name "Your Name"
git config --global user.email "your_email@whatever.com"

# настройка форматирования переноса строк из формата windows в формат Unix при заливке в репозиторий и наоборот при скачивании
git config --global core.autocrlf true
git config --global core.safecrlf warn

# понимание не ASCII-символов
git config --global core.quotepath off
```

### 1. Создание репозитория GIT

```bash
git init  # находясь в папке проекта. Будет создан локальный репозиторий .git
```

### 2. Проверка текущего состояния

```bash
git status
```

### 3. Поместить все измененные файлы в область `stage` (индекс)

```bash

git add -A
git add --all  # идентичная запись
git add .  # идентичная запись

git add <имя файла>  # добавление конкретного файла
git rm --cached <file>  # убрать файл из индекса, оригинал файла сохраняется
git restore --staged <file>  #убрать файл из индекса, добавленный с помощью add

git reset HEAD <имя файла> # убрать из stage(индекса) конкретный файл. Файлы на диске не меняются. Лучше использовать предыдущий вариант
```

### 4. Выполнить `commit` (закомитить)

```shell
git commit -m "First commit"
git commit # Будет вызван текстовый редактор для заполнения комментария камита
```

### Изменить коммит

```shell
git commit --amend -m "Комментарий" # заменяет коммит на другой.
# Аналогичный эффект достигается хард ресетом коммита и созданием нового
```

### Отменить коммит

```shell
git revert HEAD # Отменить текущий каммит и создать новый, соответствующий предшествующему. 
# Отмененный каммит остается в истории

git reset --hard <коммит, тег или указатель> # Файлы на диске приведутся в соответствие репозиторию. Указатель ветки и указатель головы ветки переместится на выбранный коммит. Последующие коммиты удалятся из log (если им не присвоены теги)

git reset --soft <указатель, коммит> # Указатель HEAD переместится, но индекс и файлы на диске не изменятся

git reset --mixed <указатель, коммит> # Указатель HEAD переместится, индекс очистится, но файлы на диске не изменятся. Используется по умолчанию
```

### Создать новую ветку и перейти в нее

```shell
git branch <имя ветки> # создается новый указатель ветки на текущий коммит
git checkout <имя ветки> # перевести указатель HEAD на ветку <имя ветки>

git checkout -b <имя ветки> # аналогичная сокращенная запись
```

### Создать ветку, которая будет отслеживать изменения ветки удаленного репозитория

```shell
git branch --track <имя> origin/<имя>

# например если в удаленном репозитории есть ветка origin/style
git branch --track style origin/style
```

### Посмотреть доступные ветки

```shell
git branch # показать имена локальных веток
git branch -a # показать в том числе ветки удаленного репозитория (если он есть. если нет, то покажет только имена локальных веток)
```

### 5. Переименовать главную ветку в `main`

```shell
git branch -M main  # по умолчанию главная ветка может называться master или develop
```

### 6. Произвести `откат` к последнему камиту

```bash
git stash
git checkout <имя файла в репозитории> # откатить текущие изменения в файле на диске к версии файла, закомиченного в репозиторий. Указатель ветки останется на месте, переместится только указатель головы ветки
```

### 7. Список доступных камитов

```bash
git log
git log --pretty=oneline # компактный вывод списка
git log --pretty=format:"%h %ad | %s%d [%an]" --graph --date=short # пример конфугирации списка камитов

git log <имя ветки> --all # увидеть все коммиты в том числе после текущего
```

### Перемесить содержимое репозитория

```shell
git mv <имя файла> <новое местоположение> # переместит файл в файловой системе и зафиксирует это изменение в индексе stage репозитория

# так же можно переместить файл без ведома git и сообщить ему об этом:
mv hello.html lib
git add lib/hello.html
git rm hello.html
```

### 8. Откатиться к конкретному камиту

```bash
git checkout <номер commit> # Достаточно первые 7 символов
git checkout <тег commit>
git checkout <имя ветки>

git checkout <имя файла в репозитории> # откатить текущие изменения в файле на диске к версии файла, закомиченного в репозиторий

git checkout <тег commit>^ # откатиться к первому камиту перед каким-то камитом
git checkout <тег commit>~1 # откатиться к первому камиту перед каким-то камитом
```

### Теги камитов

```shell
git tag <name> # Присваивает имя текущему каммиту
git tag # вывести список доступных тегов

git tag -d <name> # удалить тег
```

### Слияние веток

```shell
# Находимся в ветке 1
git merge <ветка 2> # В ветке 1 создается новый объединяющий каммит. Ветка 2 сохраняется в состоянии своего последнего каммита
```

### Ребазирование веток

```shell
# Находимся в ветке 1
git rebase <ветка 2> # Ветка 1 переносится(встраивается) в Ветку 2 после ее последнего каммита. В истории не будет видно, что происходило разделение веток.
```

### 15. Клонирование удаленного репозитория

```bash
git clone <путь к репозиторию> [<новое имя репозитория>]
# путь к удаленному репозиторию может быть как URL так и ссылкой на дирректорию файловой системы
```

### Присоединение к существующему репозиторию

```shell
git remote add <произвольное имя> <путь к удаленному репозиторию>

# например
git remote add shared c:/work/hello.git
```

### 9. Связать существующий локальный репозиторий с github

```bash
git remote add origin https://github.com</Surf81/django-learn-password-generator.git>
```

### Информация об удаленном репозитории

```shell
git remote # показать имя удаленного репозитория. Обычно это origin
git remote show <имя> # получить информацию об удаленном репозитории
```

### Загрузить новые обновления из подключенного удаленного репозитория

```shell
git fetch
git log --all # можно увидеть скачанные коммиты, которые еще не присоединились к репозиторию
git merge origin/master # слить изменения в текущий коммит локального репозитория из коммита удаленного репозитория, на который ссылается указатель origin/master

# вместо fetch и merge можно использовать одну команду
# результат будет аналогичным:
git pull

git pull <Имя удаленного репозитория> <имя ветки>
```


### 10. Создать SSH-ключ (для работы через HTTP)

```bash
ssh-keygen -t ed25519 -C "your_email@example.com"  
ssh-keygen -t rsa -b 4096 -C "your_email@example.com"  # для старых linux

eval "$(ssh-agent -s)"  # запуск ssh-агента
ssh-add ~/.ssh/id_ed25519  # добавление ключа в агент
						   # содержимое файла-ключа с расширением .pub добавить в github
```

### 11. Связать репозиторий с github через SSH

```bash
git remote add origin git@github.com:<LOGIN/test_repo.git>
```

### 12. Изменить существующий репозиторий на github ч.з SSH

```bash
git remote set-url origin git@github.com:<LOGIN/test_repo.git>
```

### 13. Выгрузить изменения в удаленный репозиторий

```bash
git push <имя удаленного репозитория> <имя ветки>

git push -u origin main
```

### 14. Настроить gitignore

>gitignore - список файлов, которые не нужно обновлять при загрузке

https://www.toptal.com/developers/gitignore/

ввести "Django", сгенерировать

```bash
nano .gitignore
```

```powershell
bash -c "nano .gitignore"
```

Добавить как минимум следующие строки:

\*.log
\*.pot
\*.pyc
\_\_pycache\_\_/
local_settings.py
/static/


## Программы для работы с GIT

1. sourcetree